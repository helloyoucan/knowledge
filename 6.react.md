### React

#### 概念特点

- react中某个组件的状态发生改变，react灰白该足迹已经所有后代组件重新渲染，但不会全部丢弃上一次的渲染结果，会通过diff去比较两次虚拟dom最后更新到真是的dom上。若组件树过大，diff开销也大，可通过shouldComponentUpdate优化。
- React将整个DOM副本保存为虚拟DOM
- 使用 Virtual DOM 更新真正的DOM，提高效率和速度
- 使用 Virtual DOM 更新真正的DOM，提高效率和速度



#### JSX

- JavaScript的语法扩展，模板语言
- 生成React元素
- 组件名大写（让react识别是组件还是HTML元素）

#### 组件生命周期v16.4

- constructor()

- static getDerivedStateFromProps()

- shouldComponentUpdate()

- render()

- getSnapshotBeforeUpdate()

- componentDidMount()

- componentDidUpdate()

- componentWillUnmount()

当渲染过程，生命周期，或子组件的构造函数中抛出错误时，会调用如下方法：

- static getDerivedStateFromError()

- componentDidCatch()

<img src="/images/react/生命周期.png" style="height:600px"/>



#### 如何使用样式

- 外部样式表
- 内联样式
- 定以对象传递给style属性



#### 组件类型

- 函数/无状态/展示组件
- 类组件
- 受控组件 #表单元素依赖于状态，表单元素需要默认值实时映射到状态的时候，就是受控组件
- 非受控组件 #非受控组件即不受状态的控制，获取数据就是相当于操作DOM
- 容器组件 # 处理获取数据、订阅 redux 存储等的组件，包含展示组件和其他容器组件
- 高阶组件 #高阶组件是将组件作为参数并生成另一个组件的组件

#### PropTypes

- 类型检查工具
- 定以默认的props和prop类型

#### 状态更新

```javascript
this.setState({name:"some name"})
// state和props的更新是异步的
this.setState((state, props) => {
    name: state.name + props.years
});
```



#### context

- 将props传递给组件树（中间组件不需要这些props）

